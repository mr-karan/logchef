import{d as O,ae as q,f as F,R as n,ai as G,a as A,m as t,i as l,w as a,u as s,j as u,t as _,af as P,_ as M,k as H,l as R,o as x}from"./index-DhD1Jy6j.js";import{_ as g,a as V,b}from"./CardHeader.vue_vue_type_script_setup_true_lang-B98r7nf9.js";import{_ as S,a as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-C7I42q6I.js";import{_ as i,a as j}from"./Label.vue_vue_type_script_setup_true_lang-CYXJfKeA.js";import{_ as E}from"./Separator.vue_vue_type_script_setup_true_lang-jT4VhdSI.js";import{_ as v}from"./Switch.vue_vue_type_script_setup_true_lang-BnTYLmoW.js";import{_ as J,a as K,b as T,c as D}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-C1YIFBM7.js";import{T as Q}from"./types-ByjhqKv5.js";import{u as W}from"./users-DXED7m9B.js";import{a as B,L as X}from"./format-D5zbNZR6.js";import{h as Y}from"./base-AlOswPYA.js";import"./monaco-editor-2qzqsP3x.js";import"./format-HUUZeily.js";const Z={class:"space-y-6"},h={class:"space-y-6"},ee={class:"space-y-4 text-sm"},se={class:"flex flex-col space-y-1"},te={class:"font-medium"},le={class:"flex flex-col space-y-1"},ae={class:"font-medium capitalize"},oe={class:"flex flex-col space-y-1"},ue={class:"font-medium"},de={class:"flex flex-col space-y-1"},ne={class:"font-medium"},ie={class:"space-y-4"},re={class:"grid gap-2"},fe={class:"flex justify-end"},me={class:"space-y-4"},pe={class:"flex items-center justify-between"},_e={class:"space-y-0.5"},ve={class:"space-y-4"},ce={class:"flex items-center justify-between"},ye={class:"space-y-0.5"},xe={class:"flex items-center justify-between"},ge={class:"space-y-0.5"},Ve={class:"space-y-4"},be={class:"flex items-center justify-between"},Se={class:"space-y-0.5"},$e={key:0,class:"grid gap-2"},Ue={class:"flex justify-end"},Le=O({__name:"UserProfile",setup(we){const{toast:I}=q(),d=F(),p=n(""),r=n(!1),U=n(!0),w=n(!1),C=n(!1),c=n(!0),N=n(30);G(()=>{d.user&&(p.value=d.user.full_name)});const L=async()=>{var y;if(!r.value){r.value=!0;try{const e=await Y({apiCall:()=>{var o;return W.updateUser(((o=d.user)==null?void 0:o.id)||"",{full_name:p.value})},successMessage:"Profile updated successfully"});e.success&&((y=e.data)!=null&&y.user)&&d.$patch(o=>{var f,m;o.user&&(o.user.full_name=((m=(f=e.data)==null?void 0:f.user)==null?void 0:m.full_name)||o.user.full_name)})}finally{r.value=!1}}},z=()=>{I({title:"Success",description:"Preferences updated successfully",duration:Q.SUCCESS})};return(y,e)=>(x(),A("div",Z,[e[33]||(e[33]=t("div",null,[t("h1",{class:"text-2xl font-bold tracking-tight"},"Profile Settings"),t("p",{class:"text-muted-foreground mt-2"}," Manage your account settings and preferences ")],-1)),l(s(J),{defaultValue:"profile",class:"space-y-6"},{default:a(()=>[l(s(K),null,{default:a(()=>[l(s(T),{value:"profile"},{default:a(()=>e[6]||(e[6]=[u("Profile")])),_:1}),l(s(T),{value:"preferences"},{default:a(()=>e[7]||(e[7]=[u("Preferences")])),_:1})]),_:1}),l(s(D),{value:"profile"},{default:a(()=>[t("div",h,[l(s(g),null,{default:a(()=>[l(s(V),null,{default:a(()=>[l(s(S),null,{default:a(()=>e[8]||(e[8]=[u("Account Information")])),_:1}),l(s($),null,{default:a(()=>e[9]||(e[9]=[u(" View and update your account details ")])),_:1})]),_:1}),l(s(b),null,{default:a(()=>{var o,f,m,k;return[t("dl",ee,[t("div",se,[e[10]||(e[10]=t("dt",{class:"text-muted-foreground"},"Email",-1)),t("dd",te,_((o=s(d).user)==null?void 0:o.email),1)]),t("div",le,[e[11]||(e[11]=t("dt",{class:"text-muted-foreground"},"Role",-1)),t("dd",ae,_((f=s(d).user)==null?void 0:f.role),1)]),t("div",oe,[e[12]||(e[12]=t("dt",{class:"text-muted-foreground"},"Last Login",-1)),t("dd",ue,_((m=s(d).user)!=null&&m.last_login_at?s(B)(s(d).user.last_login_at):"Never"),1)]),t("div",de,[e[13]||(e[13]=t("dt",{class:"text-muted-foreground"},"Account Created",-1)),t("dd",ne,_(s(B)(((k=s(d).user)==null?void 0:k.created_at)||"")),1)])])]}),_:1})]),_:1}),l(s(g),null,{default:a(()=>[l(s(V),null,{default:a(()=>[l(s(S),null,{default:a(()=>e[14]||(e[14]=[u("Profile Settings")])),_:1}),l(s($),null,{default:a(()=>e[15]||(e[15]=[u(" Update your profile information ")])),_:1})]),_:1}),l(s(b),null,{default:a(()=>[t("form",{onSubmit:P(L,["prevent"]),class:"space-y-6"},[t("div",ie,[t("div",re,[l(s(i),{for:"full_name"},{default:a(()=>e[16]||(e[16]=[u("Full Name")])),_:1}),l(s(j),{id:"full_name",modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),required:""},null,8,["modelValue"])])]),t("div",fe,[l(s(M),{type:"submit",disabled:r.value},{default:a(()=>[r.value?(x(),H(s(X),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):R("",!0),e[17]||(e[17]=u(" Save Changes "))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])]),_:1}),l(s(D),{value:"preferences"},{default:a(()=>[l(s(g),null,{default:a(()=>[l(s(V),null,{default:a(()=>[l(s(S),null,{default:a(()=>e[18]||(e[18]=[u("User Preferences")])),_:1}),l(s($),null,{default:a(()=>e[19]||(e[19]=[u(" Customize your experience ")])),_:1})]),_:1}),l(s(b),null,{default:a(()=>[t("form",{onSubmit:P(z,["prevent"]),class:"space-y-6"},[t("div",me,[e[22]||(e[22]=t("h3",{class:"text-lg font-medium"},"Notifications",-1)),t("div",pe,[t("div",_e,[l(s(i),null,{default:a(()=>e[20]||(e[20]=[u("Email Notifications")])),_:1}),e[21]||(e[21]=t("p",{class:"text-sm text-muted-foreground"}," Receive email notifications for important updates ",-1))]),l(s(v),{modelValue:U.value,"onUpdate:modelValue":e[1]||(e[1]=o=>U.value=o)},null,8,["modelValue"])])]),l(s(E)),t("div",ve,[e[27]||(e[27]=t("h3",{class:"text-lg font-medium"},"Display",-1)),t("div",ce,[t("div",ye,[l(s(i),null,{default:a(()=>e[23]||(e[23]=[u("Dark Mode")])),_:1}),e[24]||(e[24]=t("p",{class:"text-sm text-muted-foreground"}," Enable dark mode for the interface ",-1))]),l(s(v),{modelValue:w.value,"onUpdate:modelValue":e[2]||(e[2]=o=>w.value=o)},null,8,["modelValue"])]),t("div",xe,[t("div",ge,[l(s(i),null,{default:a(()=>e[25]||(e[25]=[u("Compact Mode")])),_:1}),e[26]||(e[26]=t("p",{class:"text-sm text-muted-foreground"}," Show more content with reduced spacing ",-1))]),l(s(v),{modelValue:C.value,"onUpdate:modelValue":e[3]||(e[3]=o=>C.value=o)},null,8,["modelValue"])])]),l(s(E)),t("div",Ve,[e[31]||(e[31]=t("h3",{class:"text-lg font-medium"},"Auto Refresh",-1)),t("div",be,[t("div",Se,[l(s(i),null,{default:a(()=>e[28]||(e[28]=[u("Enable Auto Refresh")])),_:1}),e[29]||(e[29]=t("p",{class:"text-sm text-muted-foreground"}," Automatically refresh log data ",-1))]),l(s(v),{modelValue:c.value,"onUpdate:modelValue":e[4]||(e[4]=o=>c.value=o)},null,8,["modelValue"])]),c.value?(x(),A("div",$e,[l(s(i),{for:"refresh_interval"},{default:a(()=>e[30]||(e[30]=[u("Refresh Interval (seconds)")])),_:1}),l(s(j),{id:"refresh_interval",modelValue:N.value,"onUpdate:modelValue":e[5]||(e[5]=o=>N.value=o),type:"number",min:"5",max:"300"},null,8,["modelValue"])])):R("",!0)]),t("div",Ue,[l(s(M),{type:"submit"},{default:a(()=>e[32]||(e[32]=[u("Save Preferences")])),_:1})])],32)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{Le as default};
