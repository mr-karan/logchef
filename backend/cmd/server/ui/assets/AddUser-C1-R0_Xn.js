import{d as U,a as g,r as w,n as k,u as a,b as A,o as C,ae as E,R as v,k as N,w as s,i as l,m as r,_ as c,ap as B,j as u,t as F,af as M}from"./index-DhD1Jy6j.js";import{_ as R,a as j,b as q}from"./CardHeader.vue_vue_type_script_setup_true_lang-B98r7nf9.js";import{_ as m,a as b}from"./Label.vue_vue_type_script_setup_true_lang-CYXJfKeA.js";import{_ as V,a as y,b as $,c as x,d as f}from"./SelectValue.vue_vue_type_script_setup_true_lang-aDyRn7dA.js";import{u as D}from"./users-DXED7m9B.js";import"./monaco-editor-2qzqsP3x.js";const T=U({__name:"CardFooter",props:{class:{}},setup(_){const i=_;return(d,t)=>(C(),g("div",{class:k(a(A)("flex items-center p-6 pt-0",i.class))},[w(d.$slots,"default")],2))}}),z={class:"flex items-center justify-between"},I={class:"space-y-2"},L={class:"space-y-2"},G={class:"space-y-2"},H={class:"space-y-2"},X=U({__name:"AddUser",setup(_){const i=B(),{toast:d}=E(),t=v({email:"",full_name:"",role:"member",status:"active"}),n=v(!1);async function S(){if(!n.value)try{n.value=!0,await D.createUser({email:t.value.email,full_name:t.value.full_name,role:t.value.role}),d({title:"Success",description:"User created successfully"}),i.push({name:"ManageUsers"})}catch(p){d({title:"Error",description:p.message||"Failed to create user",variant:"destructive"})}finally{n.value=!1}}return(p,e)=>(C(),N(a(R),null,{default:s(()=>[l(a(j),null,{default:s(()=>[r("div",z,[e[6]||(e[6]=r("div",null,[r("h2",{class:"text-lg font-semibold"},"Add New User"),r("p",{class:"text-sm text-muted-foreground"},"Create a new user account")],-1)),l(a(c),{variant:"outline",onClick:e[0]||(e[0]=o=>a(i).back())},{default:s(()=>e[5]||(e[5]=[u("Cancel")])),_:1})])]),_:1}),r("form",{onSubmit:M(S,["prevent"])},[l(a(q),{class:"space-y-6"},{default:s(()=>[r("div",I,[l(a(m),{for:"full_name"},{default:s(()=>e[7]||(e[7]=[u("Full Name")])),_:1}),l(a(b),{id:"full_name",modelValue:t.value.full_name,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.full_name=o),type:"text",placeholder:"Enter user's full name",required:""},null,8,["modelValue"])]),r("div",L,[l(a(m),{for:"email"},{default:s(()=>e[8]||(e[8]=[u("Email")])),_:1}),l(a(b),{id:"email",modelValue:t.value.email,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.email=o),type:"email",placeholder:"Enter user's email",required:""},null,8,["modelValue"])]),r("div",G,[l(a(m),{for:"role"},{default:s(()=>e[9]||(e[9]=[u("Role")])),_:1}),l(a(V),{modelValue:t.value.role,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.role=o)},{default:s(()=>[l(a(y),null,{default:s(()=>[l(a($),{placeholder:"Select role"})]),_:1}),l(a(x),null,{default:s(()=>[l(a(f),{value:"admin"},{default:s(()=>e[10]||(e[10]=[u("Admin")])),_:1}),l(a(f),{value:"member"},{default:s(()=>e[11]||(e[11]=[u("Member")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),r("div",H,[l(a(m),{for:"status"},{default:s(()=>e[12]||(e[12]=[u("Status")])),_:1}),l(a(V),{modelValue:t.value.status,"onUpdate:modelValue":e[4]||(e[4]=o=>t.value.status=o)},{default:s(()=>[l(a(y),null,{default:s(()=>[l(a($),{placeholder:"Select status"})]),_:1}),l(a(x),null,{default:s(()=>[l(a(f),{value:"active"},{default:s(()=>e[13]||(e[13]=[u("Active")])),_:1}),l(a(f),{value:"inactive"},{default:s(()=>e[14]||(e[14]=[u("Inactive")])),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),l(a(T),null,{default:s(()=>[l(a(c),{type:"submit",disabled:n.value},{default:s(()=>[u(F(n.value?"Creating...":"Create User"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1}))}});export{X as default};
