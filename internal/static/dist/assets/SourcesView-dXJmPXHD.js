import{a as E,_ as de,b as te,c as T,d as ue,e as ie,f as N,g as se}from"./index-eAHSUIqp.js";import{c as M,x as I,o as m,a as b,w as t,r as x,n as G,g as J,u as e,Z as pe,b as k,d as s,_ as ce,C as fe,m as B,e as S,U as me,X as ye,f as g,h as ge,I as D,S as ve,i as $,j,k as _e,l as q,p as ae,q as be,s as qe,t as xe,v as Se,y as $e,z as we,A as he,F as ke,B as Ce,V as Ve,K as Be,D as De,E as Te,G as Ne,H as Pe,J as Ue,M as Le,Y as Oe,L as le,N as f,O as oe,P as ne,Q as V,R as ze,T as h,W as U,$ as Ae}from"./index-K4x7kEB3.js";/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=M("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=M("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=M("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),K={__name:"Dialog",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(l,{emit:n}){const a=I(l,n);return(o,c)=>(m(),b(e(pe),G(J(e(a))),{default:t(()=>[x(o.$slots,"default")]),_:3},16))}},W={__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:n}){const u=l,i=n,a=k(()=>{const{class:c,...y}=u;return y}),o=I(a,i);return(c,y)=>(m(),b(e(ge),null,{default:t(()=>[s(e(ce),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),s(e(fe),B(e(o),{class:e(S)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",u.class)}),{default:t(()=>[x(c.$slots,"default"),s(e(me),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:t(()=>[s(e(ye),{class:"w-4 h-4"}),y[0]||(y[0]=g("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}},Fe={__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(l){const n=l,u=k(()=>{const{class:a,...o}=n;return o}),i=D(u);return(a,o)=>(m(),b(e(ve),B(e(i),{class:e(S)("text-sm text-muted-foreground",n.class)}),{default:t(()=>[x(a.$slots,"default")]),_:3},16,["class"]))}},H={__name:"DialogFooter",props:{class:{type:null,required:!1}},setup(l){const n=l;return(u,i)=>(m(),$("div",{class:j(e(S)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",n.class))},[x(u.$slots,"default")],2))}},R={__name:"DialogHeader",props:{class:{type:null,required:!1}},setup(l){const n=l;return(u,i)=>(m(),$("div",{class:j(e(S)("flex flex-col gap-y-1.5 text-center sm:text-left",n.class))},[x(u.$slots,"default")],2))}},Y={__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(l){const n=l,u=k(()=>{const{class:a,...o}=n;return o}),i=D(u);return(a,o)=>(m(),b(e(_e),B(e(i),{class:e(S)("text-lg font-semibold leading-none tracking-tight",n.class)}),{default:t(()=>[x(a.$slots,"default")]),_:3},16,["class"]))}};typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ee=l=>typeof l<"u";function Me(l){return JSON.parse(JSON.stringify(l))}function Ge(l,n,u,i={}){var a,o,c;const{clone:y=!1,passive:p=!1,eventName:r,deep:v=!1,defaultValue:d,shouldEmit:_}=i,C=be(),X=u||(C==null?void 0:C.emit)||((a=C==null?void 0:C.$emit)==null?void 0:a.bind(C))||((c=(o=C==null?void 0:C.proxy)==null?void 0:o.$emit)==null?void 0:c.bind(C==null?void 0:C.proxy));let O=r;O=O||`update:${n.toString()}`;const Z=w=>y?typeof y=="function"?y(w):Me(w):w,Q=()=>Ee(l[n])?Z(l[n]):d,ee=w=>{_?_(w)&&X(O,w):X(O,w)};if(p){const w=Q(),F=q(w);let z=!1;return ae(()=>l[n],A=>{z||(z=!0,F.value=Z(A),qe(()=>z=!1))}),ae(F,A=>{!z&&(A!==l[n]||v)&&ee(A)},{deep:v}),F}else return k({get(){return Q()},set(w){ee(w)}})}const L={__name:"Input",props:{defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(l,{emit:n}){const u=l,a=Ge(u,"modelValue",n,{passive:!0,defaultValue:u.defaultValue});return(o,c)=>xe((m(),$("input",{"onUpdate:modelValue":c[0]||(c[0]=y=>$e(a)?a.value=y:null),class:j(e(S)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",u.class))},null,2)),[[Se,e(a)]])}},P={__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(l){const n=l,u=k(()=>{const{class:i,...a}=n;return a});return(i,a)=>(m(),b(e(we),B(u.value,{class:e(S)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n.class)}),{default:t(()=>[x(i.$slots,"default")]),_:3},16,["class"]))}},Je={__name:"Select",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},defaultValue:{type:String,required:!1},modelValue:{type:String,required:!1},dir:{type:String,required:!1},name:{type:String,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:open"],setup(l,{emit:n}){const a=I(l,n);return(o,c)=>(m(),b(e(he),G(J(e(a))),{default:t(()=>[x(o.$slots,"default")]),_:3},16))}},Ke=Object.assign({inheritAttrs:!1},{__name:"SelectContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1,default:"popper"},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(l,{emit:n}){const u=l,i=n,a=k(()=>{const{class:c,...y}=u;return y}),o=I(a,i);return(c,y)=>(m(),b(e(Ve),null,{default:t(()=>[s(e(ke),B({...e(o),...c.$attrs},{class:e(S)("relative z-50 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",u.class)}),{default:t(()=>[s(e(Ye)),s(e(Ce),{class:j(e(S)("p-1",l.position==="popper"&&"h-[--radix-select-trigger-height] w-full min-w-[--radix-select-trigger-width]"))},{default:t(()=>[x(c.$slots,"default")]),_:3},8,["class"]),s(e(Re))]),_:3},16,["class"])]),_:3}))}}),We={class:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},He={__name:"SelectItem",props:{value:{type:String,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(l){const n=l,u=k(()=>{const{class:a,...o}=n;return o}),i=D(u);return(a,o)=>(m(),b(e(Te),B(e(i),{class:e(S)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.class)}),{default:t(()=>[g("span",We,[s(e(Be),null,{default:t(()=>[s(e(Ie),{class:"h-4 w-4"})]),_:1})]),s(e(De),null,{default:t(()=>[x(a.$slots,"default")]),_:3})]),_:3},16,["class"]))}},Re={__name:"SelectScrollDownButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(l){const n=l,u=k(()=>{const{class:a,...o}=n;return o}),i=D(u);return(a,o)=>(m(),b(e(Ne),B(e(i),{class:e(S)("flex cursor-default items-center justify-center py-1",n.class)}),{default:t(()=>[x(a.$slots,"default",{},()=>[s(e(re),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},Ye={__name:"SelectScrollUpButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(l){const n=l,u=k(()=>{const{class:a,...o}=n;return o}),i=D(u);return(a,o)=>(m(),b(e(Pe),B(e(i),{class:e(S)("flex cursor-default items-center justify-center py-1",n.class)}),{default:t(()=>[x(a.$slots,"default",{},()=>[s(e(je),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},Xe={__name:"SelectTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(l){const n=l,u=k(()=>{const{class:a,...o}=n;return o}),i=D(u);return(a,o)=>(m(),b(e(Le),B(e(i),{class:e(S)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",n.class)}),{default:t(()=>[x(a.$slots,"default"),s(e(Ue),{"as-child":""},{default:t(()=>[s(e(re),{class:"w-4 h-4 opacity-50 shrink-0"})]),_:1})]),_:3},16,["class"]))}},Ze={__name:"SelectValue",props:{placeholder:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const n=l;return(u,i)=>(m(),b(e(Oe),G(J(n)),{default:t(()=>[x(u.$slots,"default")]),_:3},16))}},Qe={class:"space-y-2"},et={class:"space-y-2"},tt={class:"space-y-2"},st={class:"space-y-2"},at={__name:"AddSourceDialog",props:{open:Boolean},emits:["update:open"],setup(l,{emit:n}){const u=n,i=q({name:"",schema_type:"",dsn:"",ttl_days:90}),a=[{value:"http",label:"HTTP Logs"},{value:"application",label:"Application Logs"}],{toast:o}=le(),c=async()=>{try{const y=await fetch("/api/sources",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i.value)}),p=await y.json();if(!y.ok)throw new Error(p.message||"Failed to create source");o({title:"Success",description:"Source created successfully"}),u("update:open",!1),u("source-added")}catch(y){o({variant:"destructive",title:"Error",description:y.message}),console.error("Error creating source:",y)}};return(y,p)=>(m(),b(e(K),{open:l.open,"onUpdate:open":p[4]||(p[4]=r=>y.$emit("update:open",r))},{default:t(()=>[s(e(W),{class:"sm:max-w-[425px]"},{default:t(()=>[s(e(R),null,{default:t(()=>[s(e(Y),null,{default:t(()=>p[5]||(p[5]=[f("Add New Source")])),_:1})]),_:1}),g("form",{onSubmit:ze(c,["prevent"]),class:"space-y-4"},[g("div",Qe,[s(e(P),{for:"name"},{default:t(()=>p[6]||(p[6]=[f("Name")])),_:1}),s(e(L),{id:"name",modelValue:i.value.name,"onUpdate:modelValue":p[0]||(p[0]=r=>i.value.name=r),placeholder:"my-nginx-logs",required:"",minlength:"4",maxlength:"30"},null,8,["modelValue"])]),g("div",et,[s(e(P),{for:"schema-type"},{default:t(()=>p[7]||(p[7]=[f("Schema Type")])),_:1}),s(e(Je),{modelValue:i.value.schema_type,"onUpdate:modelValue":p[1]||(p[1]=r=>i.value.schema_type=r),required:""},{default:t(()=>[s(e(Xe),null,{default:t(()=>[s(e(Ze),{placeholder:"Select schema type"})]),_:1}),s(e(Ke),null,{default:t(()=>[(m(),$(ne,null,oe(a,r=>s(e(He),{key:r.value,value:r.value},{default:t(()=>[f(h(r.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),g("div",tt,[s(e(P),{for:"dsn"},{default:t(()=>p[8]||(p[8]=[f("DSN")])),_:1}),s(e(L),{id:"dsn",modelValue:i.value.dsn,"onUpdate:modelValue":p[2]||(p[2]=r=>i.value.dsn=r),placeholder:"clickhouse://localhost:9000/logs",required:""},null,8,["modelValue"])]),g("div",st,[s(e(P),{for:"ttl"},{default:t(()=>p[9]||(p[9]=[f("TTL (days)")])),_:1}),s(e(L),{id:"ttl",type:"number",modelValue:i.value.ttl_days,"onUpdate:modelValue":p[3]||(p[3]=r=>i.value.ttl_days=r)},null,8,["modelValue"])]),s(e(H),null,{default:t(()=>[s(e(V),{type:"submit",class:"w-full"},{default:t(()=>p[10]||(p[10]=[f("Create Source")])),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"]))}},lt={class:"py-4"},ot={class:"space-y-4"},nt={class:"space-y-2"},rt={key:0,class:"text-red-500 text-sm"},dt={__name:"UpdateTTLDialog",props:{open:Boolean,sourceId:String,sourceName:String},emits:["update:open","ttl-updated"],setup(l,{emit:n}){const u=l,i=n,a=q(""),o=q(!1),c=q(""),y=async()=>{if(!a.value||isNaN(a.value)||a.value<=0){c.value="Please enter a valid number of days";return}try{o.value=!0,await E.updateSourceTTL(u.sourceId,parseInt(a.value)),i("ttl-updated"),i("update:open",!1)}catch(p){c.value=p.message}finally{o.value=!1}};return(p,r)=>(m(),b(e(K),{open:l.open,"onUpdate:open":r[2]||(r[2]=v=>p.$emit("update:open",v))},{default:t(()=>[s(e(W),null,{default:t(()=>[s(e(R),null,{default:t(()=>[s(e(Y),null,{default:t(()=>[f("Update TTL for "+h(l.sourceName),1)]),_:1})]),_:1}),g("div",lt,[g("div",ot,[g("div",nt,[s(e(P),null,{default:t(()=>r[3]||(r[3]=[f("TTL (days)")])),_:1}),s(e(L),{type:"number",modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=v=>a.value=v),placeholder:"Enter number of days",disabled:o.value},null,8,["modelValue","disabled"])]),c.value?(m(),$("div",rt,h(c.value),1)):U("",!0)])]),s(e(H),null,{default:t(()=>[s(e(V),{variant:"outline",onClick:r[1]||(r[1]=v=>p.$emit("update:open",!1)),disabled:o.value},{default:t(()=>r[4]||(r[4]=[f(" Cancel ")])),_:1},8,["disabled"]),s(e(V),{onClick:y,loading:o.value},{default:t(()=>r[5]||(r[5]=[f(" Update TTL ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["open"]))}},ut={class:"py-4"},it={class:"space-y-4"},pt={class:"space-y-2"},ct={class:"text-sm text-muted-foreground"},ft={class:"font-semibold"},mt={key:0,class:"text-red-500 text-sm"},yt={__name:"DeleteSourceDialog",props:{open:Boolean,source:Object},emits:["update:open","confirm"],setup(l,{emit:n}){const u=l,i=n,a=q(""),o=q(!1),c=q(""),y=async()=>{if(a.value!==u.source.Name){c.value="Please type the source name exactly to confirm deletion";return}o.value=!0,i("confirm"),o.value=!1,a.value="",c.value=""};return(p,r)=>(m(),b(e(K),{open:l.open,"onUpdate:open":r[2]||(r[2]=v=>p.$emit("update:open",v))},{default:t(()=>[s(e(W),null,{default:t(()=>{var v;return[s(e(R),null,{default:t(()=>[s(e(Y),{class:"text-destructive"},{default:t(()=>r[3]||(r[3]=[f("Delete Source")])),_:1}),s(e(Fe),null,{default:t(()=>{var d;return[f(' This action cannot be undone. This will permanently delete the source "'+h((d=l.source)==null?void 0:d.Name)+'" and remove all associated data. ',1)]}),_:1})]),_:1}),g("div",ut,[g("div",it,[g("div",pt,[g("p",ct,[r[4]||(r[4]=f(" Please type ")),g("span",ft,h((v=l.source)==null?void 0:v.Name),1),r[5]||(r[5]=f(" to confirm. "))]),s(e(L),{modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=d=>a.value=d),placeholder:"Type source name to confirm",disabled:o.value},null,8,["modelValue","disabled"])]),c.value?(m(),$("div",mt,h(c.value),1)):U("",!0)])]),s(e(H),null,{default:t(()=>{var d;return[s(e(V),{variant:"outline",onClick:r[1]||(r[1]=_=>p.$emit("update:open",!1)),disabled:o.value},{default:t(()=>r[6]||(r[6]=[f(" Cancel ")])),_:1},8,["disabled"]),s(e(V),{variant:"destructive",onClick:y,loading:o.value,disabled:a.value!==((d=l.source)==null?void 0:d.Name)},{default:t(()=>r[7]||(r[7]=[f(" Delete Source ")])),_:1},8,["loading","disabled"])]}),_:1})]}),_:1})]),_:1},8,["open"]))}},gt={class:"container py-8"},vt={class:"mb-8 flex items-center justify-between"},_t={key:0,class:"mb-4 p-4 text-red-500 bg-red-50 rounded-md"},bt={key:1,class:"text-center py-8"},qt={key:2,class:"text-center py-8"},xt={class:"max-w-md mx-auto space-y-4"},St={key:3,class:"rounded-md border"},ht={__name:"SourcesView",setup(l){const{toast:n}=le(),u=q(!1),i=q(!1),a=q(!1),o=q(null),c=q([]),y=q(!0),p=q(null),r=async()=>{try{y.value=!0;const v=await E.fetchSources();c.value=Array.isArray(v)?v:v.data||[],p.value=null}catch(v){p.value=v.message,console.error("Error fetching sources:",v),c.value=[]}finally{y.value=!1}};return Ae(()=>{r()}),(v,d)=>(m(),$("div",gt,[g("div",vt,[d[7]||(d[7]=g("div",null,[g("h1",{class:"text-3xl font-semibold tracking-tight"},"Sources"),g("p",{class:"text-sm text-muted-foreground mt-1"},"Manage your log sources and their configurations.")],-1)),s(e(V),{onClick:d[0]||(d[0]=_=>u.value=!0),size:"sm"},{default:t(()=>d[6]||(d[6]=[f(" Add Source ")])),_:1})]),p.value?(m(),$("div",_t,h(p.value),1)):U("",!0),y.value&&!c.value.length?(m(),$("div",bt," Loading sources... ")):c.value.length===0?(m(),$("div",qt,[g("div",xt,[d[9]||(d[9]=g("h3",{class:"text-lg font-semibold"},"No sources found",-1)),d[10]||(d[10]=g("p",{class:"text-muted-foreground"},' Get started by adding your first log source. Click the "Add Source" button above to begin collecting and analyzing your logs. ',-1)),s(e(V),{onClick:d[1]||(d[1]=_=>u.value=!0),variant:"outline",class:"mt-4"},{default:t(()=>d[8]||(d[8]=[f(" Add Your First Source ")])),_:1})])])):(m(),$("div",St,[s(e(ie),null,{default:t(()=>[s(e(de),null,{default:t(()=>[s(e(te),null,{default:t(()=>[s(e(T),null,{default:t(()=>d[11]||(d[11]=[f("Name")])),_:1}),s(e(T),null,{default:t(()=>d[12]||(d[12]=[f("Type")])),_:1}),s(e(T),null,{default:t(()=>d[13]||(d[13]=[f("Status")])),_:1}),s(e(T),null,{default:t(()=>d[14]||(d[14]=[f("Last Synced")])),_:1}),s(e(T),null,{default:t(()=>d[15]||(d[15]=[f("Actions")])),_:1})]),_:1})]),_:1}),s(e(ue),null,{default:t(()=>[(m(!0),$(ne,null,oe(c.value,_=>(m(),b(e(te),{key:_.ID},{default:t(()=>[s(e(N),null,{default:t(()=>[f(h(_.Name),1)]),_:2},1024),s(e(N),null,{default:t(()=>[s(e(se),null,{default:t(()=>[f(h(_.SchemaType),1)]),_:2},1024)]),_:2},1024),s(e(N),null,{default:t(()=>[s(e(se),null,{default:t(()=>d[16]||(d[16]=[f("Connected")])),_:1})]),_:1}),s(e(N),null,{default:t(()=>[f(h(new Date(_.UpdatedAt).toLocaleString()),1)]),_:2},1024),s(e(N),{class:"space-x-2"},{default:t(()=>[s(e(V),{variant:"outline",size:"sm",onClick:()=>{o.value=_,i.value=!0}},{default:t(()=>d[17]||(d[17]=[f(" Update TTL ")])),_:2},1032,["onClick"]),s(e(V),{variant:"destructive",size:"sm",onClick:()=>{o.value=_,a.value=!0}},{default:t(()=>d[18]||(d[18]=[f(" Delete ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])),s(at,{open:u.value,"onUpdate:open":d[2]||(d[2]=_=>u.value=_),onSourceAdded:r},null,8,["open"]),o.value?(m(),b(dt,{key:4,open:i.value,"onUpdate:open":d[3]||(d[3]=_=>i.value=_),"source-id":o.value.ID,"source-name":o.value.Name,onTtlUpdated:r},null,8,["open","source-id","source-name"])):U("",!0),o.value?(m(),b(yt,{key:5,open:a.value,"onUpdate:open":d[4]||(d[4]=_=>a.value=_),source:o.value,onConfirm:d[5]||(d[5]=async()=>{try{await e(E).deleteSource(o.value.ID),e(n)({title:"Success",description:"Source deleted successfully"}),a.value=!1,await r()}catch(_){e(n)({title:"Error",description:_.message,variant:"destructive"})}})},null,8,["open","source"])):U("",!0)]))}};export{ht as default};
