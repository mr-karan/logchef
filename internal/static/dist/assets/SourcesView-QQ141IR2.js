import{c as O,o as c,a as _,b as g,r as p,n as v,u as e,d as m,e as ee,x as z,f as b,w as a,g as j,h as A,Z as te,i as x,j as l,_ as se,C as ae,m as w,U as le,k as oe,I as V,l as re,p as N,q as G,s as ne,t as de,v as ue,y as ie,z as ce,A as pe,B as fe,F as me,D as ye,V as ge,K as _e,E as be,G as ve,H as he,J as qe,X as xe,M as we,Y as Se,L as f,N as X,O as W,P as T,Q as $e,R as B}from"./index-ra_Uaefh.js";/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=O("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=O("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=O("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=O("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ce={class:"relative w-full overflow-auto"},De={__name:"Table",props:{class:{type:null,required:!1}},setup(s){const t=s;return(r,n)=>(c(),_("div",Ce,[g("table",{class:v(e(m)("w-full caption-bottom text-sm",t.class))},[p(r.$slots,"default")],2)]))}},Pe={__name:"TableBody",props:{class:{type:null,required:!1}},setup(s){const t=s;return(r,n)=>(c(),_("tbody",{class:v(e(m)("[&_tr:last-child]:border-0",t.class))},[p(r.$slots,"default")],2))}},S={__name:"TableCell",props:{class:{type:null,required:!1}},setup(s){const t=s;return(r,n)=>(c(),_("td",{class:v(e(m)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t.class))},[p(r.$slots,"default")],2))}},K={__name:"TableRow",props:{class:{type:null,required:!1}},setup(s){const t=s;return(r,n)=>(c(),_("tr",{class:v(e(m)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t.class))},[p(r.$slots,"default")],2))}},$={__name:"TableHead",props:{class:{type:null,required:!1}},setup(s){const t=s;return(r,n)=>(c(),_("th",{class:v(e(m)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t.class))},[p(r.$slots,"default")],2))}},Te={__name:"TableHeader",props:{class:{type:null,required:!1}},setup(s){const t=s;return(r,n)=>(c(),_("thead",{class:v(e(m)("[&_tr]:border-b",t.class))},[p(r.$slots,"default")],2))}},R={__name:"Badge",props:{variant:{type:null,required:!1},class:{type:null,required:!1}},setup(s){const t=s;return(r,n)=>(c(),_("div",{class:v(e(m)(e(Ne)({variant:s.variant}),t.class))},[p(r.$slots,"default")],2))}},Ne=ee("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),Oe={__name:"Dialog",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(s,{emit:t}){const d=z(s,t);return(o,i)=>(c(),b(e(te),j(A(e(d))),{default:a(()=>[p(o.$slots,"default")]),_:3},16))}},ze={__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:t}){const r=s,n=t,d=x(()=>{const{class:i,...u}=r;return u}),o=z(d,n);return(i,u)=>(c(),b(e(oe),null,{default:a(()=>[l(e(se),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),l(e(ae),w(e(o),{class:e(m)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r.class)}),{default:a(()=>[p(i.$slots,"default"),l(e(le),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:a(()=>[l(e(ke),{class:"w-4 h-4"}),u[0]||(u[0]=g("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}},Ue={__name:"DialogFooter",props:{class:{type:null,required:!1}},setup(s){const t=s;return(r,n)=>(c(),_("div",{class:v(e(m)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",t.class))},[p(r.$slots,"default")],2))}},Ie={__name:"DialogHeader",props:{class:{type:null,required:!1}},setup(s){const t=s;return(r,n)=>(c(),_("div",{class:v(e(m)("flex flex-col gap-y-1.5 text-center sm:text-left",t.class))},[p(r.$slots,"default")],2))}},je={__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(s){const t=s,r=x(()=>{const{class:d,...o}=t;return o}),n=V(r);return(d,o)=>(c(),b(e(re),w(e(n),{class:e(m)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:a(()=>[p(d.$slots,"default")]),_:3},16,["class"]))}};typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ae=s=>typeof s<"u";function Fe(s){return JSON.parse(JSON.stringify(s))}function Le(s,t,r,n={}){var d,o,i;const{clone:u=!1,passive:y=!1,eventName:Z,deep:F=!1,defaultValue:Q,shouldEmit:L}=n,q=ne(),M=r||(q==null?void 0:q.emit)||((d=q==null?void 0:q.$emit)==null?void 0:d.bind(q))||((i=(o=q==null?void 0:q.proxy)==null?void 0:o.$emit)==null?void 0:i.bind(q==null?void 0:q.proxy));let k=Z;k=k||`update:${t.toString()}`;const E=h=>u?typeof u=="function"?u(h):Fe(h):h,H=()=>Ae(s[t])?E(s[t]):Q,J=h=>{L?L(h)&&M(k,h):M(k,h)};if(y){const h=H(),U=N(h);let C=!1;return G(()=>s[t],D=>{C||(C=!0,U.value=E(D),de(()=>C=!1))}),G(U,D=>{!C&&(D!==s[t]||F)&&J(D)},{deep:F}),U}else return x({get(){return H()},set(h){J(h)}})}const I={__name:"Input",props:{defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(s,{emit:t}){const r=s,d=Le(r,"modelValue",t,{passive:!0,defaultValue:r.defaultValue});return(o,i)=>ue((c(),_("input",{"onUpdate:modelValue":i[0]||(i[0]=u=>ce(d)?d.value=u:null),class:v(e(m)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r.class))},null,2)),[[ie,e(d)]])}},P={__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(s){const t=s,r=x(()=>{const{class:n,...d}=t;return d});return(n,d)=>(c(),b(e(pe),w(r.value,{class:e(m)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t.class)}),{default:a(()=>[p(n.$slots,"default")]),_:3},16,["class"]))}},Me={__name:"Select",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},defaultValue:{type:String,required:!1},modelValue:{type:String,required:!1},dir:{type:String,required:!1},name:{type:String,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:open"],setup(s,{emit:t}){const d=z(s,t);return(o,i)=>(c(),b(e(fe),j(A(e(d))),{default:a(()=>[p(o.$slots,"default")]),_:3},16))}},Ee=Object.assign({inheritAttrs:!1},{__name:"SelectContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1,default:"popper"},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(s,{emit:t}){const r=s,n=t,d=x(()=>{const{class:i,...u}=r;return u}),o=z(d,n);return(i,u)=>(c(),b(e(ge),null,{default:a(()=>[l(e(me),w({...e(o),...i.$attrs},{class:e(m)("relative z-50 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r.class)}),{default:a(()=>[l(e(Ke)),l(e(ye),{class:v(e(m)("p-1",s.position==="popper"&&"h-[--radix-select-trigger-height] w-full min-w-[--radix-select-trigger-width]"))},{default:a(()=>[p(i.$slots,"default")]),_:3},8,["class"]),l(e(Ge))]),_:3},16,["class"])]),_:3}))}}),He={class:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},Je={__name:"SelectItem",props:{value:{type:String,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(s){const t=s,r=x(()=>{const{class:d,...o}=t;return o}),n=V(r);return(d,o)=>(c(),b(e(ve),w(e(n),{class:e(m)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t.class)}),{default:a(()=>[g("span",He,[l(e(_e),null,{default:a(()=>[l(e(Be),{class:"h-4 w-4"})]),_:1})]),l(e(be),null,{default:a(()=>[p(d.$slots,"default")]),_:3})]),_:3},16,["class"]))}},Ge={__name:"SelectScrollDownButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(s){const t=s,r=x(()=>{const{class:d,...o}=t;return o}),n=V(r);return(d,o)=>(c(),b(e(he),w(e(n),{class:e(m)("flex cursor-default items-center justify-center py-1",t.class)}),{default:a(()=>[p(d.$slots,"default",{},()=>[l(e(Y),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},Ke={__name:"SelectScrollUpButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(s){const t=s,r=x(()=>{const{class:d,...o}=t;return o}),n=V(r);return(d,o)=>(c(),b(e(qe),w(e(n),{class:e(m)("flex cursor-default items-center justify-center py-1",t.class)}),{default:a(()=>[p(d.$slots,"default",{},()=>[l(e(Ve),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},Re={__name:"SelectTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(s){const t=s,r=x(()=>{const{class:d,...o}=t;return o}),n=V(r);return(d,o)=>(c(),b(e(we),w(e(n),{class:e(m)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",t.class)}),{default:a(()=>[p(d.$slots,"default"),l(e(xe),{"as-child":""},{default:a(()=>[l(e(Y),{class:"w-4 h-4 opacity-50 shrink-0"})]),_:1})]),_:3},16,["class"]))}},Xe={__name:"SelectValue",props:{placeholder:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(s){const t=s;return(r,n)=>(c(),b(e(Se),j(A(t)),{default:a(()=>[p(r.$slots,"default")]),_:3},16))}},We={class:"space-y-2"},Ye={class:"space-y-2"},Ze={class:"space-y-2"},Qe={class:"space-y-2"},et={__name:"AddSourceDialog",props:{open:Boolean},emits:["update:open"],setup(s,{emit:t}){const r=t,n=N({name:"",schemaType:"",dsn:"",ttlDays:90}),d=[{value:"http",label:"HTTP Logs"},{value:"app",label:"Application Logs"}],o=async()=>{try{if(!(await fetch("/api/sources",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.value)})).ok)throw new Error("Failed to create source");r("update:open",!1)}catch(i){console.error("Error creating source:",i)}};return(i,u)=>(c(),b(e(Oe),{open:s.open,"onUpdate:open":u[4]||(u[4]=y=>i.$emit("update:open",y))},{default:a(()=>[l(e(ze),{class:"sm:max-w-[425px]"},{default:a(()=>[l(e(Ie),null,{default:a(()=>[l(e(je),null,{default:a(()=>u[5]||(u[5]=[f("Add New Source")])),_:1})]),_:1}),g("form",{onSubmit:$e(o,["prevent"]),class:"space-y-4"},[g("div",We,[l(e(P),{for:"name"},{default:a(()=>u[6]||(u[6]=[f("Name")])),_:1}),l(e(I),{id:"name",modelValue:n.value.name,"onUpdate:modelValue":u[0]||(u[0]=y=>n.value.name=y),placeholder:"my-nginx-logs"},null,8,["modelValue"])]),g("div",Ye,[l(e(P),{for:"schema-type"},{default:a(()=>u[7]||(u[7]=[f("Schema Type")])),_:1}),l(e(Me),{modelValue:n.value.schemaType,"onUpdate:modelValue":u[1]||(u[1]=y=>n.value.schemaType=y)},{default:a(()=>[l(e(Re),null,{default:a(()=>[l(e(Xe),{placeholder:"Select schema type"})]),_:1}),l(e(Ee),null,{default:a(()=>[(c(),_(W,null,X(d,y=>l(e(Je),{key:y.value,value:y.value},{default:a(()=>[f(B(y.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),g("div",Ze,[l(e(P),{for:"dsn"},{default:a(()=>u[8]||(u[8]=[f("DSN")])),_:1}),l(e(I),{id:"dsn",modelValue:n.value.dsn,"onUpdate:modelValue":u[2]||(u[2]=y=>n.value.dsn=y),placeholder:"clickhouse://localhost:9000/database"},null,8,["modelValue"])]),g("div",Qe,[l(e(P),{for:"ttl"},{default:a(()=>u[9]||(u[9]=[f("TTL (days)")])),_:1}),l(e(I),{id:"ttl",type:"number",modelValue:n.value.ttlDays,"onUpdate:modelValue":u[3]||(u[3]=y=>n.value.ttlDays=y)},null,8,["modelValue"])]),l(e(Ue),null,{default:a(()=>[l(e(T),{type:"submit",class:"w-full"},{default:a(()=>u[10]||(u[10]=[f("Create Source")])),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"]))}},tt={class:"container py-8"},st={class:"mb-8 flex items-center justify-between"},at={class:"rounded-md border"},ot={__name:"SourcesView",setup(s){const t=N(!1),r=N([{id:"1",name:"nginx-logs",type:"file",status:"connected",lastSynced:new Date().toISOString()},{id:"2",name:"aws-logs",type:"s3",status:"error",lastSynced:new Date().toISOString()}]),n=d=>{switch(d){case"connected":return"bg-green-500";case"error":return"bg-red-500";default:return"bg-yellow-500"}};return(d,o)=>(c(),_("div",tt,[g("div",st,[o[3]||(o[3]=g("div",null,[g("h1",{class:"text-3xl font-semibold tracking-tight"},"Sources"),g("p",{class:"text-sm text-muted-foreground mt-1"},"Manage your log sources and their configurations.")],-1)),l(e(T),{onClick:o[0]||(o[0]=i=>t.value=!0),size:"sm"},{default:a(()=>o[2]||(o[2]=[f(" Add Source ")])),_:1})]),g("div",at,[l(e(De),null,{default:a(()=>[l(e(Te),null,{default:a(()=>[l(e(K),null,{default:a(()=>[l(e($),null,{default:a(()=>o[4]||(o[4]=[f("Name")])),_:1}),l(e($),null,{default:a(()=>o[5]||(o[5]=[f("Type")])),_:1}),l(e($),null,{default:a(()=>o[6]||(o[6]=[f("Status")])),_:1}),l(e($),null,{default:a(()=>o[7]||(o[7]=[f("Last Synced")])),_:1}),l(e($),null,{default:a(()=>o[8]||(o[8]=[f("Actions")])),_:1})]),_:1})]),_:1}),l(e(Pe),null,{default:a(()=>[(c(!0),_(W,null,X(r.value,i=>(c(),b(e(K),{key:i.id},{default:a(()=>[l(e(S),null,{default:a(()=>[f(B(i.name),1)]),_:2},1024),l(e(S),null,{default:a(()=>[l(e(R),null,{default:a(()=>[f(B(i.type),1)]),_:2},1024)]),_:2},1024),l(e(S),null,{default:a(()=>[l(e(R),{class:v(n(i.status))},{default:a(()=>[f(B(i.status),1)]),_:2},1032,["class"])]),_:2},1024),l(e(S),null,{default:a(()=>[f(B(new Date(i.lastSynced).toLocaleString()),1)]),_:2},1024),l(e(S),null,{default:a(()=>[l(e(T),{variant:"ghost",size:"sm"},{default:a(()=>o[9]||(o[9]=[f("Edit")])),_:1}),l(e(T),{variant:"ghost",size:"sm",class:"text-red-500"},{default:a(()=>o[10]||(o[10]=[f("Delete")])),_:1})]),_:1})]),_:2},1024))),128))]),_:1})]),_:1})]),l(et,{open:t.value,"onUpdate:open":o[1]||(o[1]=i=>t.value=i)},null,8,["open"])]))}};export{ot as default};
