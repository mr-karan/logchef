---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="Changelog — LogChef" description="LogChef release history and version changelog." activeNav="changelog">
  <style>
    main { max-width: 900px; margin: 0 auto; padding: 6rem 1.5rem 4rem; }

    .page-header { margin-bottom: 3rem; padding-bottom: 2rem; border-bottom: 1px solid var(--color-border); }
    .page-header h1 { font-size: 2.5rem; font-weight: 700; letter-spacing: -0.03em; margin-bottom: 0.5rem; }
    .page-header p { color: var(--color-text-secondary); font-size: 1.125rem; }

    .version { margin-bottom: 3rem; padding-bottom: 2.5rem; border-bottom: 1px solid var(--color-border); }
    .version:last-child { border-bottom: none; }
    .version-header { display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
    .version-tag { font-family: var(--font-mono); font-size: 1.25rem; font-weight: 600; color: var(--color-text); }
    .version-tag.unreleased { color: var(--color-purple); }
    .version-date {
      font-family: var(--font-mono); font-size: 0.8125rem; color: var(--color-text-dim);
      background: var(--color-surface); padding: 0.25rem 0.625rem; border-radius: 4px;
    }
    .version-badge {
      font-family: var(--font-mono); font-size: 0.6875rem; font-weight: 500;
      text-transform: uppercase; letter-spacing: 0.05em;
      padding: 0.25rem 0.5rem; border-radius: 4px;
      background: color-mix(in srgb, var(--color-success) 10%, transparent); color: var(--color-success);
    }
    .version-link { font-family: var(--font-mono); font-size: 0.75rem; color: var(--color-text-dim); margin-left: auto; }
    .version-link:hover { color: var(--color-accent); text-decoration: none; }

    .change-section { margin-bottom: 1.5rem; }
    .change-section:last-child { margin-bottom: 0; }
    .change-type {
      display: inline-flex; align-items: center; gap: 0.375rem;
      font-family: var(--font-mono); font-size: 0.6875rem; font-weight: 500;
      text-transform: uppercase; letter-spacing: 0.05em;
      padding: 0.25rem 0.5rem; border-radius: 4px; margin-bottom: 0.75rem;
    }
    .change-type.added { background: color-mix(in srgb, var(--color-success) 10%, transparent); color: var(--color-success); }
    .change-type.changed { background: color-mix(in srgb, var(--color-warning) 10%, transparent); color: var(--color-warning); }
    .change-type.fixed { background: color-mix(in srgb, var(--color-accent) 10%, transparent); color: var(--color-accent); }
    .change-type.removed { background: color-mix(in srgb, var(--color-error) 10%, transparent); color: var(--color-error); }
    .change-type svg { width: 12px; height: 12px; }

    .change-list { list-style: none; display: flex; flex-direction: column; gap: 0.625rem; padding-left: 0.25rem; }
    .change-list li {
      position: relative; padding-left: 1.25rem;
      font-size: 0.9375rem; color: var(--color-text-secondary); line-height: 1.6;
    }
    .change-list li::before {
      content: ''; position: absolute; left: 0; top: 0.625rem;
      width: 4px; height: 4px; border-radius: 50%; background: var(--color-text-dim);
    }
    .change-list li strong { color: var(--color-text); font-weight: 500; }
    .change-list li code {
      font-family: var(--font-mono); font-size: 0.8125rem;
      background: var(--color-surface); padding: 0.125rem 0.375rem;
      border-radius: 4px; color: var(--color-accent);
    }
    .change-list .breaking { color: var(--color-warning); font-weight: 600; }

    .contributors {
      margin-top: 1rem; padding-top: 1rem;
      border-top: 1px dashed var(--color-border);
      font-size: 0.875rem; color: var(--color-text-dim);
    }
    .contributors a { color: var(--color-text-secondary); }

    @media (max-width: 768px) {
      .page-header h1 { font-size: 2rem; }
      .version-header { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
      .version-link { margin-left: 0; }
    }
  </style>

  <main>
    <header class="page-header">
      <h1>Changelog</h1>
      <p>What's new in LogChef.</p>
    </header>

    <!-- v1.2.1 + CLI v0.1.2 -->
    <article class="version">
      <div class="version-header">
        <span class="version-tag">v1.2.1</span>
        <span class="version-date">Jan 21, 2026</span>
        <span class="version-badge">Latest</span>
        <a href="https://github.com/mr-karan/logchef/releases/tag/v1.2.1" class="version-link" target="_blank">Release notes →</a>
      </div>

      <div class="change-section">
        <div class="change-type added">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg>
          Added
        </div>
        <ul class="change-list">
          <li><strong>Run saved queries from CLI</strong> — New <code>logchef collections</code> command to list and execute your saved queries directly from the terminal</li>
          <li><strong>Interactive CLI mode</strong> — Run <code>logchef query</code> or <code>logchef sql</code> without arguments and get guided prompts to select your team, source, and enter your query</li>
          <li><strong>Copy CLI command from web</strong> — Click the terminal icon in the explore toolbar to copy the equivalent CLI command for your current query</li>
        </ul>
      </div>

      <div class="change-section">
        <div class="change-type fixed">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M20 6L9 17l-5-5"/></svg>
          Fixed
        </div>
        <ul class="change-list">
          <li><strong>Browser navigation</strong> — Back and forward buttons now correctly restore your previous query and results</li>
        </ul>
      </div>
    </article>

    <!-- v1.2.0 -->
    <article class="version">
      <div class="version-header">
        <span class="version-tag">v1.2.0</span>
        <span class="version-date">Jan 21, 2026</span>
        <a href="https://github.com/mr-karan/logchef/releases/tag/v1.2.0" class="version-link" target="_blank">Release notes →</a>
      </div>

      <div class="change-section">
        <div class="change-type added">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg>
          Added
        </div>
        <ul class="change-list">
          <li><strong>LogChef CLI</strong> — Query your logs from the terminal with syntax highlighting, multi-context support, and all the features of the web UI. <a href="/integration/cli/">Learn more →</a></li>
          <li><strong>Multi-select variables</strong> — Select multiple values for a variable and they expand to <code>IN (...)</code> clauses. Great for filtering by multiple hosts or services at once.</li>
          <li><strong>Optional SQL clauses</strong> — Wrap SQL clauses in <code>[[ ... ]]</code> and they're automatically removed when the variable is empty. No more "WHERE 1=1" hacks.</li>
          <li><strong>Variable dropdowns</strong> — Configure variables as text inputs, dropdowns, or multi-selects with default values.</li>
          <li><strong>Browse all saved queries</strong> — New "All Sources" view in Collections to see saved queries across your entire team.</li>
          <li><strong>Direct email & webhook alerts</strong> — Send alert notifications via SMTP or webhooks without needing Alertmanager.</li>
        </ul>
      </div>

      <div class="change-section">
        <div class="change-type fixed">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M20 6L9 17l-5-5"/></svg>
          Fixed
        </div>
        <ul class="change-list">
          <li><strong>No more database lock errors</strong> — Fixed intermittent "SQLITE_BUSY" errors that could occur during high traffic</li>
          <li>Time ranges now refresh before each query (relative times like "last 1 hour" update correctly)</li>
          <li>Collections load reliably on first visit</li>
        </ul>
      </div>

      <div class="contributors">
        <strong>Contributors:</strong>
        <a href="https://github.com/blu3id" target="_blank">@blu3id</a>,
        <a href="https://github.com/SValanukonda" target="_blank">@SValanukonda</a>
      </div>
    </article>

    <!-- v1.1.0 -->
    <article class="version">
      <div class="version-header">
        <span class="version-tag">v1.1.0</span>
        <span class="version-date">Dec 29, 2025</span>
        <a href="https://github.com/mr-karan/logchef/releases/tag/v1.1.0" class="version-link" target="_blank">Release notes →</a>
      </div>

      <div class="change-section">
        <div class="change-type added">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg>
          Added
        </div>
        <ul class="change-list">
          <li><strong>Bookmark your favorite queries</strong> — Star saved queries for quick access. Bookmarked queries appear at the top of the collections dropdown.</li>
          <li><strong>Shareable query links</strong> — Copy a direct link to any saved query to share with teammates.</li>
        </ul>
      </div>

      <div class="change-section">
        <div class="change-type changed">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 20v-8m0 0V4m0 8h8m-8 0H4"/></svg>
          Improved
        </div>
        <ul class="change-list">
          <li><strong>Better error messages</strong> — Query errors now show exactly where the problem is with helpful suggestions.</li>
          <li><strong>Faster builds</strong> — Development builds are now 25x faster (2s vs 55s).</li>
        </ul>
      </div>

      <div class="change-section">
        <div class="change-type fixed">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M20 6L9 17l-5-5"/></svg>
          Fixed
        </div>
        <ul class="change-list">
          <li>Switching between saved queries now shows the correct content immediately</li>
          <li>Your team and source selection stays consistent when navigating between pages</li>
        </ul>
      </div>

      <div class="contributors">
        <strong>Contributors:</strong> <a href="https://github.com/rhnvrm" target="_blank">@rhnvrm</a>
      </div>
    </article>

    <!-- v1.0.0 -->
    <article class="version">
      <div class="version-header">
        <span class="version-tag">v1.0.0</span>
        <span class="version-date">Dec 22, 2025</span>
        <a href="https://github.com/mr-karan/logchef/releases/tag/v1.0.0" class="version-link" target="_blank">Release notes →</a>
      </div>

      <div class="change-section">
        <div class="change-type added">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg>
          Added
        </div>
        <ul class="change-list">
          <li><strong>Field explorer sidebar</strong> — Browse all fields in your logs, see the most common values, and click to add filters. Just like Kibana's Discover.</li>
          <li><strong>Cancel running queries</strong> — Press Escape or click Cancel to stop long-running queries. Actually cancels in ClickHouse, not just the UI.</li>
          <li><strong>Auto-fit columns</strong> — Double-click a column header border to automatically fit the column to its content.</li>
        </ul>
      </div>

      <div class="change-section">
        <div class="change-type changed">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 20v-8m0 0V4m0 8h8m-8 0H4"/></svg>
          Improved
        </div>
        <ul class="change-list">
          <li><strong>Cleaner log table</strong> — Compact rows, click any cell to copy, and action buttons appear on hover.</li>
        </ul>
      </div>
    </article>

    <!-- v0.6.0 -->
    <article class="version">
      <div class="version-header">
        <span class="version-tag">v0.6.0</span>
        <span class="version-date">Dec 4, 2025</span>
        <a href="https://github.com/mr-karan/logchef/releases/tag/v0.6.0" class="version-link" target="_blank">Release notes →</a>
      </div>

      <div class="change-section">
        <div class="change-type added">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg>
          Added
        </div>
        <ul class="change-list">
          <li><strong>Alerting</strong> — Create alerts based on your log queries. Get notified via email, Slack, PagerDuty, or any webhook when conditions are met.</li>
          <li><strong>Admin settings UI</strong> — Configure AI, authentication, and alert settings from the web interface instead of config files.</li>
          <li><strong>Duplicate sources</strong> — Quickly create a new source by copying an existing one.</li>
        </ul>
      </div>
    </article>

    <!-- v0.5.0 -->
    <article class="version">
      <div class="version-header">
        <span class="version-tag">v0.5.0</span>
        <span class="version-date">Oct 3, 2025</span>
        <a href="https://github.com/mr-karan/logchef/releases/tag/v0.5.0" class="version-link" target="_blank">Release notes →</a>
      </div>

      <div class="change-section">
        <div class="change-type added">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg>
          Added
        </div>
        <ul class="change-list">
          <li><strong>Select specific columns</strong> — Use the pipe operator to show only the columns you care about: <code>status="500" | timestamp method path</code></li>
          <li><strong>Query nested JSON</strong> — Filter on deeply nested fields: <code>user.address.city = "NYC"</code></li>
          <li><strong>Query history</strong> — Quickly access your 10 most recent queries from the editor.</li>
          <li><strong>Source details</strong> — View table schema, TTL settings, and sort keys for any source.</li>
        </ul>
      </div>
    </article>

    <!-- v0.4.0 -->
    <article class="version">
      <div class="version-header">
        <span class="version-tag">v0.4.0</span>
        <span class="version-date">Aug 12, 2025</span>
        <a href="https://github.com/mr-karan/logchef/releases/tag/v0.4.0" class="version-link" target="_blank">Release notes →</a>
      </div>

      <div class="change-section">
        <div class="change-type added">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg>
          Added
        </div>
        <ul class="change-list">
          <li><strong>Query variables</strong> — Use <code>{"{{variable}}"}</code> in your queries and get input fields to fill in values. Great for reusable dashboards.</li>
          <li><strong>Prometheus metrics</strong> — Monitor LogChef performance with built-in metrics endpoint.</li>
          <li><strong>Grafana dashboard</strong> — Pre-built dashboard for monitoring LogChef in production.</li>
          <li><strong>Compact view</strong> — Terminal-style log display for viewing more logs at once.</li>
        </ul>
      </div>

      <div class="contributors">
        <strong>Contributors:</strong> <a href="https://github.com/songxuanqing" target="_blank">@songxuanqing</a>
      </div>
    </article>

    <!-- v0.3.0 -->
    <article class="version">
      <div class="version-header">
        <span class="version-tag">v0.3.0</span>
        <span class="version-date">Jun 13, 2025</span>
        <a href="https://github.com/mr-karan/logchef/releases/tag/v0.3.0" class="version-link" target="_blank">Release notes →</a>
      </div>

      <div class="change-section">
        <div class="change-type added">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg>
          Added
        </div>
        <ul class="change-list">
          <li><strong>AI assistant integration</strong> — Connect Claude or other AI assistants to query your logs using Model Context Protocol (MCP).</li>
        </ul>
      </div>
    </article>

    <!-- v0.2.2 -->
    <article class="version">
      <div class="version-header">
        <span class="version-tag">v0.2.2</span>
        <span class="version-date">Jun 12, 2025</span>
        <a href="https://github.com/mr-karan/logchef/releases/tag/v0.2.2" class="version-link" target="_blank">Release notes →</a>
      </div>

      <div class="change-section">
        <div class="change-type added">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg>
          Added
        </div>
        <ul class="change-list">
          <li><strong>AI SQL assistant</strong> — Describe what you want in plain English and get a ClickHouse SQL query. Works with OpenAI, Claude, and compatible APIs.</li>
          <li><strong>API tokens</strong> — Generate API tokens for programmatic access to LogChef from scripts and automation.</li>
        </ul>
      </div>

      <div class="contributors">
        <strong>Contributors:</strong>
        <a href="https://github.com/vedang" target="_blank">@vedang</a>,
        <a href="https://github.com/r--w" target="_blank">@r--w</a>,
        <a href="https://github.com/gowthamgts" target="_blank">@gowthamgts</a>
      </div>
    </article>

    <!-- v0.2.0 -->
    <article class="version">
      <div class="version-header">
        <span class="version-tag">v0.2.0</span>
        <span class="version-date">Apr 27, 2025</span>
        <a href="https://github.com/mr-karan/logchef/releases/tag/v0.2.0" class="version-link" target="_blank">Release notes →</a>
      </div>

      <div class="change-section">
        <div class="change-type added">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg>
          Initial Release
        </div>
        <ul class="change-list">
          <li><strong>Log Explorer</strong> — Search and filter your logs in real-time with an intuitive interface.</li>
          <li><strong>LogchefQL</strong> — Simple query language for filtering logs: <code>level="error" service="api"</code></li>
          <li><strong>Full SQL mode</strong> — Write raw ClickHouse SQL for advanced queries, aggregations, and joins.</li>
          <li><strong>Saved queries</strong> — Save your frequently used queries and share them with your team.</li>
          <li><strong>Team workspaces</strong> — Organize users and sources into teams with role-based access control.</li>
          <li><strong>Time histogram</strong> — Visual chart showing log volume over time.</li>
          <li><strong>Dark & light themes</strong> — Choose your preferred appearance.</li>
        </ul>
      </div>
    </article>
  </main>
</BaseLayout>
